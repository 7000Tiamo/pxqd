
# **培训签到系统需求文档（详细可原型化版本）**

## **1. 系统简介**

本系统面向企业内部培训活动的组织与管理，提供以下核心能力：

* **用户管理**：管理员维护组织内员工信息与权限。
* **培训发布与管理**：创建培训、通知员工、查看培训进度。
* **员工报名**：员工自主报名培训。
* **手机扫码签到**：培训现场通过二维码进行签到/签退。
* **培训数据统计**：可视化查看培训情况。
* **大模型 RAG 助手**：基于公司考勤制度文档构建的问答助手。

系统主要角色：

* **管理员**
* **普通员工**

---

# **2. 系统功能模块结构**

```
用户管理
培训管理
 ├─ 培训发布
 ├─ 报名管理
 ├─ 二维码签到
 ├─ 签到记录
培训统计
RAG智能问答助手
系统设置
```

---

# **3. 页面与需求明细**

以下为按页面拆分的详细需求，可直接拿去作原型图。

---

## **3.1 登录页**

### **页面元素**

* 输入框：账号
* 输入框：密码
* 按钮：登录
* 单选：记住我
* 链接：忘记密码（可选）

### **功能流程**

1. 用户输入账号密码 → 点击“登录”
2. 系统校验：

   * 成功：跳转首页
   * 失败：浮动红色提示“账号或密码错误”

---

## **3.2 首页（管理员 / 员工不同）**

### **管理员首页显示内容**

* 数据卡片：

  * 本月培训场次
  * 当前报名人数
  * 本月签到总人数
  * 培训完成人数/率
* 快捷入口：

  * 创建培训
  * 用户管理
  * 培训统计
  * 智能问答助手
* 培训列表（最近 5 条）

### **员工首页显示内容**

* 我待参加的培训
* 我已报名的培训
* 我的培训记录
* 快捷入口：智能问答助手

---

## **3.3 用户管理页（管理员）**

### **页面元素**

* 搜索栏：

  * 姓名 / 工号 / 部门
* 表格字段：

  * 姓名
  * 工号
  * 部门
  * 手机号
  * 状态（启用/禁用）
  * 操作（编辑、禁用/启用）
* 按钮：

  * 新建用户
  * 批量导入（Excel）
  * 批量导出

### **操作流程**

**新建用户**

1. 点击「新建用户」→ 弹窗
2. 输入姓名、工号、部门、手机号
3. 保存 → 列表新增一条记录

**编辑用户**

1. 点击「编辑」→ 弹窗
2. 修改信息 → 保存 → 更新表格内容

**批量导入**

1. 点击「导入」
2. 上传模板文件
3. 校验结果：

   * 正常：导入成功
   * 异常：显示错误行号及原因

---

## **3.4 培训管理 → 培训列表页**

### **页面元素**

* 搜索条件：

  * 培训名称
  * 时间范围
  * 状态（未开始/报名中/进行中/已结束）
* 按钮：

  * 创建培训
* 培训表格：

  * 培训名称
  * 培训时间
  * 培训讲师
  * 报名人数
  * 状态
  * 操作（查看、编辑、发布、关闭、签到二维码）

---

## **3.5 创建培训 / 编辑培训页面**

### **页面元素**

#### **基础信息区域**

* 输入框：培训名称（必填）
* 文本域：培训介绍
* 输入框：讲师姓名
* 输入框：培训地点
* 时间选择器：开始时间、结束时间
* 上传组件：培训封面图（可选）
* 输入框：最大报名人数（可为空表示不限制）

#### **报名与签到规则区域**

* 开关：是否需要报名
* 开关：签到是否开启 GPS 限制
* 开关：是否需要签退
* 数字输入：迟到阈值（分钟）
* 数字输入：早退阈值（分钟）

#### **动作按钮**

* 保存为草稿
* 发布培训

### **功能流程**

**发布培训**

1. 填写信息 → 点击发布
2. 系统校验字段
3. 进入培训详情页，状态变为“报名中”
4. 系统向员工推送培训通知（系统内通知）

---

## **3.6 培训详情页（管理员）**

### **页面内容**

* 培训基础信息展示（名称/时间/讲师/地点等）
* 当前状态标签（报名中/进行中/已结束）
* 报名人数统计（已报名 / 取消报名）
* 签到情况统计（已签到 / 未签到 / 签退人数）
* 二维码签到入口（按钮）

### **模块区块**

1. 报名列表（姓名、部门、手机号、报名时间）
2. 签到记录（姓名、签到时间、是否迟到）
3. 签退记录（如果开启）
4. 培训公告（管理员可发布培训通知）

---

## **3.7 员工端 → 培训报名页**

### **页面元素**

* 培训封面图
* 培训名称
* 时间地点
* 介绍
* 讲师
* 报名人数显示
* 按钮：立即报名 / 取消报名

### **报名流程**

1. 员工点击“立即报名”
2. 系统检查人数限制
3. 报名成功 → 按钮变为“取消报名”

---

## **3.8 手机扫码签到页面（H5）**

### **页面元素**

* 培训名称、时间
* 用户姓名
* 状态提示：未签到 / 已签到 / 已签退
* 按钮：签到（如果已签到则显示“签退按钮”）
* 若开启定位校验：显示“需要开启定位权限”

### **流程**

**签到流程**

1. 员工手机扫码二维码 → H5 页面打开签到
2. 如果开启 GPS 校验：

   * 客户端获取定位
   * 系统判断是否在指定范围内
3. 系统判断时间段：

   * 超过迟到阈值 → 状态标记为迟到
4. 签到成功 → 显示“签到成功”绿色提示

**签退流程**

1. 若已签到且开启签退 → 显示“签退”按钮
2. 点击 → 系统判断早退
3. 状态更新为“已签退”

---

## **3.9 培训统计页面**

### **页面元素**

* 统计维度切换：

  * 按培训项目统计
  * 按部门统计
  * 按员工统计
* 图表区域（柱状图、饼图）
* 统计指标：

  * 参与率
  * 迟到人数
  * 未签到人数
  * 完成培训人数
* 数据表格（可导出 Excel）
* 导出按钮

---

## **3.10 RAG 智能问答助手页面**

### **页面元素**

* 对话窗口
* 输入框：请输入你的问题…
* 按钮：发送
* 工具栏：

  * “查看知识库文档列表”
  * “上传制度文档”（管理员）

### **功能流程**

**问答流程（RAG）**

1. 用户输入问题：“请问培训时间算不算加班？”
2. 系统向知识库检索考勤制度片段
3. 大模型生成回答，附上引用的制度内容（可选）
4. 显示答案

**文档管理流程**

1. 管理员点击上传制度文档
2. 支持 PDF、Docx、文本
3. 完成后立即进入向量库

---

# **4. 后端业务流程说明（重点给开发/原型使用）**

## **4.1 培训发布流程**

```
管理员提交表单 → 数据入库 → 状态=报名中 →
向员工发送通知（系统内） → 培训列表可见
```

## **4.2 报名流程**

```
员工点击报名 →
系统校验人数限制 → 写入报名记录表 →
培训详情报名人数+1 → 成功提示
```

## **4.3 签到流程**

```
员工扫码二维码 →
系统解析培训ID → 校验时间/地点/GPS →
记录签到时间 → 状态=已签到/迟到
```

## **4.4 签退流程**

```
已签到 → 用户点击签退按钮 →
记录签退时间 → 状态=正常签退/早退
```

## **4.5 统计流程**

系统自动在后台聚合：

* 每场培训签到率
* 迟到率
* 部门参与情况
* 用户培训履历


# **6. 全局状态流（支持原型图条件逻辑）**

培训状态图：

```
草稿 → 发布（报名中） → 开始（进行中） → 结束（已结束）
```

报名状态图：

```
未报名 → 已报名 → 取消报名
```

签到状态图：

```
未签到 → 已签到（正常/迟到） → 已签退（正常/早退）
```

